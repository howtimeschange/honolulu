# Web UI + Multi-Agent MVP Design

## Overview

ä¸º Honolulu AI Agent æ·»åŠ  Web UI ç•Œé¢å’Œå¤š Agent åä½œåŠŸèƒ½ã€‚

**æŠ€æœ¯é€‰å‹ï¼š**
- Web UI: Vite + React + TailwindCSS
- UI é£æ ¼: Manus é£æ ¼å·¥ä½œå°
- å¤š Agent: ä¸»ä»æ¨¡å¼ï¼ˆOrchestrator + SubAgentsï¼‰

## Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      packages/web (æ–°å¢)                      â”‚
â”‚                     Vite + React + TailwindCSS               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ç»„ä»¶ç»“æ„:                                                    â”‚
â”‚  â”œâ”€â”€ App.tsx              # ä¸»å¸ƒå±€ï¼ˆManus é£æ ¼å·¥ä½œå°ï¼‰          â”‚
â”‚  â”œâ”€â”€ components/                                             â”‚
â”‚  â”‚   â”œâ”€â”€ Sidebar/         # å·¦ä¾§ï¼šä¼šè¯åˆ—è¡¨ + å­AgentçŠ¶æ€        â”‚
â”‚  â”‚   â”œâ”€â”€ ChatPanel/       # ä¸­é—´ï¼šå¯¹è¯åŒºåŸŸ                     â”‚
â”‚  â”‚   â”œâ”€â”€ WorkPanel/       # å³ä¾§ï¼šå·¥å…·æ‰§è¡Œã€æ–‡ä»¶é¢„è§ˆ            â”‚
â”‚  â”‚   â””â”€â”€ StatusBar/       # åº•éƒ¨ï¼šå½“å‰æ¨¡å‹ã€è¿æ¥çŠ¶æ€            â”‚
â”‚  â””â”€â”€ hooks/useWebSocket.ts # WebSocket é€šä¿¡                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼ WebSocket
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    packages/core (æ‰©å±•)                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  æ–°å¢:                                                        â”‚
â”‚  â”œâ”€â”€ agents/orchestrator.py  # ä¸»Agentï¼ˆåè°ƒè€…ï¼‰              â”‚
â”‚  â”œâ”€â”€ agents/sub_agents/      # å­Agentå®šä¹‰                   â”‚
â”‚  â”‚   â”œâ”€â”€ coder.py           # ä»£ç ç¼–å†™Agent                  â”‚
â”‚  â”‚   â””â”€â”€ researcher.py      # æœç´¢ç ”ç©¶Agent                  â”‚
â”‚  â””â”€â”€ server/app.py          # æ‰©å±•APIæ”¯æŒå­AgentçŠ¶æ€          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Web UI Layout (Manus Style)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Honolulu                                            [Settings] [?]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚            â”‚                                 â”‚                       â”‚
â”‚  Sessions  â”‚       Chat Panel                â”‚    Work Panel         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€  â”‚       â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                â”‚    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€         â”‚
â”‚  > Task 1  â”‚                                 â”‚                       â”‚
â”‚    Task 2  â”‚  User: å¸®æˆ‘å†™ä¸€ä¸ªæ’åºç®—æ³•        â”‚  [Tabs: Files|Tools]  â”‚
â”‚            â”‚                                 â”‚                       â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€  â”‚  Agent: æˆ‘æ¥å¸®ä½ å®ç°...          â”‚  sort.py              â”‚
â”‚  Agents    â”‚    â”œâ”€ ğŸ”§ Coder Agent            â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€  â”‚    â”‚   æ­£åœ¨ç¼–å†™ä»£ç ...           â”‚  â”‚ def quick_sort  â”‚  â”‚
â”‚  â— Main    â”‚    â”‚                            â”‚  â”‚   ...           â”‚  â”‚
â”‚  â— Coder   â”‚  [ä»£ç å—é¢„è§ˆ]                   â”‚  â”‚                 â”‚  â”‚
â”‚  â—‹ Search  â”‚                                 â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚            â”‚                                 â”‚                       â”‚
â”‚            â”‚                                 â”‚  Tool Execution       â”‚
â”‚            â”‚                                 â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚
â”‚            â”‚                                 â”‚  âœ“ read_file          â”‚
â”‚            â”‚                                 â”‚  â–¶ write_file         â”‚
â”‚            â”‚                                 â”‚    (ç­‰å¾…ç¡®è®¤)          â”‚
â”‚            â”‚                                 â”‚                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Model: claude-sonnet-4 â”‚ Connected â”‚ Tokens: 1.2k                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å®½åº¦æ¯”ä¾‹: ä¾§è¾¹æ (200px) | å¯¹è¯åŒº(flex-1) | å·¥ä½œé¢æ¿(400px, å¯æŠ˜å )
```

**ä¸»è¦ç»„ä»¶ï¼š**
- **Sidebar**: ä¼šè¯å†å² + å­ Agent è¿è¡ŒçŠ¶æ€ï¼ˆâ—è¿è¡Œä¸­ â—å¤„ç†ä¸­ â—‹ç©ºé—²ï¼‰
- **ChatPanel**: å¯¹è¯æ¶ˆæ¯æµï¼Œæ”¯æŒ Markdown æ¸²æŸ“ã€ä»£ç é«˜äº®
- **WorkPanel**:
  - Files æ ‡ç­¾ï¼šæ–‡ä»¶é¢„è§ˆã€ä»£ç æŸ¥çœ‹
  - Tools æ ‡ç­¾ï¼šå·¥å…·æ‰§è¡Œå†å²ã€ç­‰å¾…ç¡®è®¤çš„æ“ä½œ
- **StatusBar**: å½“å‰æ¨¡å‹ã€è¿æ¥çŠ¶æ€ã€token ç”¨é‡

## Multi-Agent Design (Master-Slave)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Orchestrator (ä¸»Agent)                        â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  èŒè´£: ç†è§£ç”¨æˆ·æ„å›¾ï¼Œåˆ†è§£ä»»åŠ¡ï¼Œåè°ƒå­Agentï¼Œæ±‡æ€»ç»“æœ              â”‚
â”‚  System Prompt: ä½ æ˜¯ä»»åŠ¡åè°ƒè€…ï¼Œæ ¹æ®ä»»åŠ¡ç±»å‹å§”æ´¾ç»™åˆé€‚çš„å­Agent    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚   delegate_to_coder(task)      delegate_to_researcher(task)     â”‚
â”‚          â”‚                              â”‚                        â”‚
â”‚          â–¼                              â–¼                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚   Coder Agent    â”‚          â”‚ Researcher Agent â”‚             â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤             â”‚
â”‚  â”‚ ä¸“é•¿: ä»£ç ç¼–å†™    â”‚          â”‚ ä¸“é•¿: ä¿¡æ¯æœç´¢    â”‚             â”‚
â”‚  â”‚ å·¥å…·:            â”‚          â”‚ å·¥å…·:            â”‚             â”‚
â”‚  â”‚  - read_file     â”‚          â”‚  - web_search    â”‚             â”‚
â”‚  â”‚  - write_file    â”‚          â”‚  - fetch_url     â”‚             â”‚
â”‚  â”‚  - execute_code  â”‚          â”‚  - summarize     â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å®ç°æ–¹å¼ï¼š**
- å­ Agent ä½œä¸ºä¸» Agent çš„**å·¥å…·**æš´éœ²ï¼ˆ`delegate_to_coder`ã€`delegate_to_researcher`ï¼‰
- ä¸» Agent è°ƒç”¨å·¥å…·æ—¶ï¼Œå†…éƒ¨å¯åŠ¨å­ Agent å¤„ç†ï¼Œè¿”å›ç»“æœ
- å­ Agent æœ‰ç‹¬ç«‹çš„ system prompt å’Œå—é™å·¥å…·é›†

**MVP å†…ç½®å­ Agentï¼š**

| Agent | ä¸“é•¿ | å¯ç”¨å·¥å…· |
|-------|------|---------|
| Coder | ä»£ç ç¼–å†™ã€è°ƒè¯• | read_file, write_file, bash |
| Researcher | æœç´¢ã€èµ„æ–™æ•´ç† | web_search, fetch_url |

**WebSocket äº‹ä»¶æ‰©å±•ï¼š**
```json
{ "type": "sub_agent_start", "agent": "coder", "task": "ç¼–å†™æ’åºç®—æ³•" }
{ "type": "sub_agent_progress", "agent": "coder", "content": "æ­£åœ¨åˆ†æéœ€æ±‚..." }
{ "type": "sub_agent_done", "agent": "coder", "result": "å·²å®Œæˆ" }
```

## File Structure

```
packages/
â”œâ”€â”€ web/                          # æ–°å¢ Web UI åŒ…
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ vite.config.ts
â”‚   â”œâ”€â”€ tailwind.config.js
â”‚   â”œâ”€â”€ index.html
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ main.tsx
â”‚       â”œâ”€â”€ App.tsx
â”‚       â”œâ”€â”€ api/
â”‚       â”‚   â””â”€â”€ client.ts
â”‚       â”œâ”€â”€ hooks/
â”‚       â”‚   â”œâ”€â”€ useWebSocket.ts
â”‚       â”‚   â””â”€â”€ useSession.ts
â”‚       â”œâ”€â”€ components/
â”‚       â”‚   â”œâ”€â”€ Sidebar/
â”‚       â”‚   â”‚   â”œâ”€â”€ index.tsx
â”‚       â”‚   â”‚   â”œâ”€â”€ SessionList.tsx
â”‚       â”‚   â”‚   â””â”€â”€ AgentStatus.tsx
â”‚       â”‚   â”œâ”€â”€ ChatPanel/
â”‚       â”‚   â”‚   â”œâ”€â”€ index.tsx
â”‚       â”‚   â”‚   â”œâ”€â”€ MessageList.tsx
â”‚       â”‚   â”‚   â”œâ”€â”€ MessageBubble.tsx
â”‚       â”‚   â”‚   â””â”€â”€ InputBox.tsx
â”‚       â”‚   â”œâ”€â”€ WorkPanel/
â”‚       â”‚   â”‚   â”œâ”€â”€ index.tsx
â”‚       â”‚   â”‚   â”œâ”€â”€ FilePreview.tsx
â”‚       â”‚   â”‚   â””â”€â”€ ToolHistory.tsx
â”‚       â”‚   â””â”€â”€ StatusBar.tsx
â”‚       â””â”€â”€ types/
â”‚           â””â”€â”€ index.ts
â”‚
â””â”€â”€ core/src/honolulu/
    â””â”€â”€ agents/                   # æ–°å¢å¤š Agent æ¨¡å—
        â”œâ”€â”€ __init__.py
        â”œâ”€â”€ base.py
        â”œâ”€â”€ orchestrator.py
        â””â”€â”€ sub_agents/
            â”œâ”€â”€ __init__.py
            â”œâ”€â”€ coder.py
            â””â”€â”€ researcher.py
```

## Implementation Steps

| Step | Content | Files |
|------|---------|-------|
| 1 | Create Web project (Vite + React + Tailwind) | 5 |
| 2 | Implement API client and WebSocket hook | 3 |
| 3 | Implement Sidebar component | 3 |
| 4 | Implement ChatPanel component | 4 |
| 5 | Implement WorkPanel component | 3 |
| 6 | Create SubAgent base and Orchestrator | 3 |
| 7 | Implement Coder and Researcher agents | 2 |
| 8 | Extend Server API for multi-agent events | 1 |
